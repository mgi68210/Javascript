<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice : Formulaire complet</title>
    <style>
        .error {
            color: red;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>Exercice : Contrôle de saisie avec confirmation</h1>
    <form id="myForm">
        <label for="username">Nom d'utilisateur :</label><br>
        <input type="text" id="username">
        <div id="error-username" class="error"></div>
        <br>

        <label for="email">Adresse e-mail :</label><br>
        <input type="text" id="email">
        <div id="error-email" class="error"></div>
        <br>

        <label for="password">Mot de passe :</label><br>
        <input type="password" id="password">
        <div id="error-password" class="error"></div>
        <br>

        <label for="confirm-password">Confirmer le mot de passe :</label><br>
        <input type="password" id="confirm-password">
        <div id="error-confirm-password" class="error"></div>
        <br>

        <input type="submit" value="Envoyer">
    </form>

    <script>
        document.getElementById('myForm').addEventListener('submit',(e)=>{
            e.preventDefault()
            validateForm()
        })
        function validateForm() {
            // Récupération des champs
            const username = document.getElementById("username").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirm-password").value;

            // Récupération des éléments d'erreur
            const errorUsername = document.getElementById("error-username");
            const errorEmail = document.getElementById("error-email");
            const errorPassword = document.getElementById("error-password");
            const errorConfirmPassword = document.getElementById("error-confirm-password");

            // Réinitialiser les messages d'erreur
            errorUsername.innerHTML = "";
            errorEmail.innerHTML = "";
            errorPassword.innerHTML = "";
            errorConfirmPassword.innerHTML = "";

            let isValid = true;

            // Validation du nom d'utilisateur
            if (username === "") {
                errorUsername.innerHTML = "Le nom d'utilisateur est obligatoire.";
                isValid = false;
            }

            // Validation de l'adresse e-mail
            if (email === "") {
                errorEmail.innerHTML = "L'adresse e-mail est obligatoire.";
                isValid = false;
            } else if (!email.includes("@")) {
                errorEmail.innerHTML = "Veuillez entrer une adresse e-mail valide.";
                isValid = false;
            }

            // Validation du mot de passe
            if (password === "") {
                errorPassword.innerHTML = "Le mot de passe est obligatoire.";
                isValid = false;
            } else if (password.length < 6) {
                errorPassword.innerHTML = "Le mot de passe doit contenir au moins 6 caractères.";
                isValid = false;
            }

            // Validation de la confirmation du mot de passe
            if (confirmPassword === "") {
                errorConfirmPassword.innerHTML = "Veuillez confirmer votre mot de passe.";
                isValid = false;
            } else if (confirmPassword !== password) {
                errorConfirmPassword.innerHTML = "Les mots de passe ne correspondent pas.";
                isValid = false;
            }

            // Si tout est valide
            if (isValid) {
                alert("Formulaire envoyé avec succès!");
            }

           
        }
    </script>
</body>
</html>
