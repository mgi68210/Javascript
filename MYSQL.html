<!--
 CREATE DATABASE EXERCICE2;

mysql> use EXERCICE2

mysql> CREATE TABLE employes (
    -> id INT AUTO_INCREMENT PRIMARY KEY,
    -> Nom VARCHAR(100) NOT NULL,
    -> Prenom VARCHAR(100) NOT NULL,
    -> age INT(11) NOT NULL,
    -> salaire DOUBLE NOT NULL,
    -> Poste VARCHAR(50) NOT NULL,
    -> Ville VARCHAR(50) NOT NULL
    -> );

    CREATE TABLE PRODUIT (
    -> id INT AUTO_INCREMENT PRIMARY KEY,
    -> Nom VARCHAR(50),
    -> prix DOUBLE NOT NULL,
    -> id_categorie,
    -> );





 INSERT INTO employes (Nom, Prenom, age, salaire, Poste, Ville) VALUES
    -> ('KASSIMI','Zak', 31, 9500, 'directeur', 'Paris'),
    -> ('Martin', 'Sophie', 28, 3200, 'chef de projet', 'Lyon'),
    -> ('Durand','Paul',45, 2700, 'Analyste', 'Marseille'),
    -> ('Bernard', 'Claire', 31, 2900,'Développeur','Paris'),
    -> ('Petit','Lucas',40, 3600, 'Manager','Nice'),
    -> ('Garcia','Marie',27,2400,'Développeur','Lyon'),
    -> ('Leroy','Antoine',33,3100,'Développeur','Lille'),
    -> ('Moreau','Isabelle',50, 4000,'testeur','Paris'),
    -> ('Simon','Julie',29, 2300, 'Tester', 'Lyon'),
    -> ('Roux', 'Nicolas',41,3500,'Chef de projet', 'Nice');
Query OK, 10 rows affected (0.01 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> show employes


 CREATE TABLE employes (
    -> id INT AUTO_INCREMENT PRIMARY KEY,
    -> Nom VARCHAR(100) NOT NULL,
    -> Prenom VARCHAR(100) NOT NULL,
    -> age INT(11) NOT NULL,
    -> salaire DOUBLE NOT NULL,
    -> Poste VARCHAR(50) NOT NULL,
    -> Ville VARCHAR(50) NOT NULL
    -> );

INSERT INTO employes (Nom, Prenom, age, salaire, Poste, Ville) VALUES
    -> ('KASSIMI','Zak', 31, 9500, 'directeur', 'Paris'),
    -> ('Martin', 'Sophie', 28, 3200, 'chef de projet', 'Lyon'),
    -> ('Durand','Paul',45, 2700, 'Analyste', 'Marseille'),
    -> ('Bernard', 'Claire', 31, 2900,'Développeur','Paris'),
    -> ('Petit','Lucas',40, 3600, 'Manager','Nice'),
    -> ('Garcia','Marie',27,2400,'Développeur','Lyon'),
    -> ('Leroy','Antoine',33,3100,'Développeur','Lille'),
    -> ('Moreau','Isabelle',50, 4000,'testeur','Paris'),
    -> ('Simon','Julie',29, 2300, 'Tester', 'Lyon'),
    -> ('Roux', 'Nicolas',41,3500,'Chef de projet', 'Nice');

    Aﬃcher tous les employés vivant à Paris.

    SELECT * FROM employes WHERE ville ='Paris';
    +----+---------+----------+-----+---------+--------------+-------+
    | id | Nom     | Prenom   | age | salaire | Poste        | Ville |
    +----+---------+----------+-----+---------+--------------+-------+
    |  1 | KASSIMI | Zak      |  31 |    9500 | directeur    | Paris |
    |  4 | Bernard | Claire   |  31 |    2900 | Développeur  | Paris |
    |  8 | Moreau  | Isabelle |  50 |    4000 | testeur      | Paris |
    +----+---------+----------+-----+---------+--------------+-------+


    Aﬃcher les employés qui ont un salaire supérieur à 3000.

    mysql> SELECT * FROM employes WHERE salaire>3000;


    Lister tous les développeurs âgés de moins de 35 ans.


    SELECT * FROM employes WHERE poste = 'Développeur' AND age < 35;
    +----+---------+---------+-----+---------+--------------+-------+
    | id | Nom     | Prenom  | age | salaire | Poste        | Ville |
    +----+---------+---------+-----+---------+--------------+-------+
    |  4 | Bernard | Claire  |  31 |    2900 | Développeur  | Paris |
    |  6 | Garcia  | Marie   |  27 |    2400 | Développeur  | Lyon  |
    |  7 | Leroy   | Antoine |  33 |    3100 | Développeur  | Lille |
    +----+---------+---------+-----+---------+--------------+-------+


Aﬃcher les employés ayant un salaire compris entre 2500 et 3500.

SELECT * FROM employes WHERE salaire BETWEEN 2500 AND 3500;
+----+---------+---------+-----+---------+----------------+-----------+
| id | Nom     | Prenom  | age | salaire | Poste          | Ville     |
+----+---------+---------+-----+---------+----------------+-----------+
|  2 | Martin  | Sophie  |  28 |    3200 | chef de projet | Lyon      |
|  3 | Durand  | Paul    |  45 |    2700 | Analyste       | Marseille |
|  4 | Bernard | Claire  |  31 |    2900 | Développeur    | Paris     |
|  7 | Leroy   | Antoine |  33 |    3100 | Développeur    | Lille     |
| 10 | Roux    | Nicolas |  41 |    3500 | Chef de projet | Nice      |
+----+---------+---------+-----+---------+----------------+-----------

Lister tous les employés, triés par salaire croissant.

SELECT * FROM employes ORDER BY salaire ASC;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon      |
|  6 | Garcia  | Marie    |  27 |    2400 | Développeur    | Lyon      |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
+----+---------+----------+-----+---------+----------------+----------

Aﬃcher les employés ayant le poste de 'Chef de projet' ou de 'Manager'.

mysql> SELECT * FROM employes WHERE Poste IN ('chef de projet', 'manager');
+----+--------+---------+-----+---------+----------------+-------+
| id | Nom    | Prenom  | age | salaire | Poste          | Ville |
+----+--------+---------+-----+---------+----------------+-------+
|  2 | Martin | Sophie  |  28 |    3200 | chef de projet | Lyon  |
|  5 | Petit  | Lucas   |  40 |    3600 | Manager        | Nice  |
| 10 | Roux   | Nicolas |  41 |    3500 | Chef de projet | Nice  |
+----+--------+---------+-----+---------+----------------+-------+
3 rows in set (0.00 sec)

Trouver tous les employés qui ne vivent pas à Lyon.

mysql> SELECT * FROM employes WHERE ville != 'Lyon';
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
+----+---------+----------+-----+---------+----------------+-----------+
7 rows in set (0.00 sec)

Aﬃcher les employés qui ont plus de 40 ans ou gagnent plus de 3500.

mysql> SELECT * FROM employes WHERE age > 40 OR salaire > 3500;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
+----+---------+----------+-----+---------+----------------+-----------+
5 rows in set (0.00 sec)

Aﬃcher tous les employés triés par âge décroissant et salaire croissant.



mysql> SELECT * FROM employes ORDER BY salaire ASC;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon      |
|  6 | Garcia  | Marie    |  27 |    2400 | Développeur    | Lyon      |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
+----+---------+----------+-----+---------+----------------+-----------+
10 rows in set (0.00 sec)

mysql> SELECT * FROM employes ORDER BY salaire DESC;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  6 | Garcia  | Marie    |  27 |    2400 | Développeur    | Lyon      |
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon      |
+----+---------+----------+-----+---------+----------------+-----------+
10 rows in set (0.00 sec)


Lister tous les employés qui ont un salaire inférieur à 2500.


mysql> SELECT * FROM employes WHERE salaire < 2500;
+----+--------+--------+-----+---------+--------------+-------+
| id | Nom    | Prenom | age | salaire | Poste        | Ville |
+----+--------+--------+-----+---------+--------------+-------+
|  6 | Garcia | Marie  |  27 |    2400 | Développeur  | Lyon  |
|  9 | Simon  | Julie  |  29 |    2300 | Tester       | Lyon  |
+----+--------+--------+-----+---------+--------------+-------+
2 rows in set (0.00 sec)


Aﬃcher les employés dont le poste est 'Développeur' ou 'Analyste'.


mysql> SELECT * FROM employes WHERE Poste in ('Developpeur', 'Analyste');
+----+---------+---------+-----+---------+--------------+-----------+
| id | Nom     | Prenom  | age | salaire | Poste        | Ville     |
+----+---------+---------+-----+---------+--------------+-----------+
|  3 | Durand  | Paul    |  45 |    2700 | Analyste     | Marseille |
|  4 | Bernard | Claire  |  31 |    2900 | Développeur  | Paris     |
|  6 | Garcia  | Marie   |  27 |    2400 | Développeur  | Lyon      |
|  7 | Leroy   | Antoine |  33 |    3100 | Développeur  | Lille     |
+----+---------+---------+-----+---------+--------------+-----------+
4 rows in set (0.00 sec)

Trouver les employés ayant un salaire supérieur ou égal à 3200.


mysql> SELECT * FROM employes WHERE salaire >=3200;
+----+---------+----------+-----+---------+----------------+-------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville |
+----+---------+----------+-----+---------+----------------+-------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon  |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice  |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice  |
+----+---------+----------+-----+---------+----------------+-------+
5 rows in set (0.00 sec)

Aﬃcher les employés qui vivent à Paris et Lyon.

mysql> SELECT * FROM employes WHERE ville IN ('Paris','Lyon');
+----+---------+----------+-----+---------+----------------+-------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville |
+----+---------+----------+-----+---------+----------------+-------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon  |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris |
|  6 | Garcia  | Marie    |  27 |    2400 | Développeur    | Lyon  |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris |
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon  |
+----+---------+----------+-----+---------+----------------+-------+
6 rows in set (0.00 sec)

Aﬃcher les employés dont l'âge est compris entre 30 et 40 ans.

mysql> SELECT * FROM employes WHERE age BETWEEN 30 AND 40;
+----+---------+---------+-----+---------+--------------+-------+
| id | Nom     | Prenom  | age | salaire | Poste        | Ville |
+----+---------+---------+-----+---------+--------------+-------+
|  1 | KASSIMI | Zak     |  31 |    9500 | directeur    | Paris |
|  4 | Bernard | Claire  |  31 |    2900 | Développeur  | Paris |
|  5 | Petit   | Lucas   |  40 |    3600 | Manager      | Nice  |
|  7 | Leroy   | Antoine |  33 |    3100 | Développeur  | Lille |
+----+---------+---------+-----+---------+--------------+-------+
4 rows in set (0.00 sec)

Lister les employés, triés par ville puis par salaire décroissant.

mysql> SELECT * FROM employes ORDER BY Ville ASC, Salaire DESC;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
|  6 | Garcia  | Marie    |  27 |    2400 | Développeur    | Lyon      |
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon      |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
+----+---------+----------+-----+---------+----------------+-----------+
10 rows in set (0.00 sec)

mysql> SELECT * FROM employes ORDER BY salaire DESC;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  6 | Garcia  | Marie    |  27 |    2400 | Développeur    | Lyon      |
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon      |
+----+---------+----------+-----+---------+----------------+-----------+
10 rows in set (0.00 sec)

Aﬃcher les employés ayant un salaire diﬀérent de 2400.

mysql> SELECT * FROM employes WHERE salaire != 2400;
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
|  9 | Simon   | Julie    |  29 |    2300 | Tester         | Lyon      |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
+----+---------+----------+-----+---------+----------------+-----------+
9 rows in set (0.00 sec)

Trouver les employés qui ont entre 28 et 35 ans et qui gagnent plus de 3000.

mysql> SELECT * FROM employes WHERE age BETWEEN 28 AND 35 AND salaire >3000;
+----+---------+---------+-----+---------+----------------+-------+
| id | Nom     | Prenom  | age | salaire | Poste          | Ville |
+----+---------+---------+-----+---------+----------------+-------+
|  1 | KASSIMI | Zak     |  31 |    9500 | directeur      | Paris |
|  2 | Martin  | Sophie  |  28 |    3200 | chef de projet | Lyon  |
|  7 | Leroy   | Antoine |  33 |    3100 | Développeur    | Lille |
+----+---------+---------+-----+---------+----------------+-------+
3 rows in set (0.00 sec)

Aﬃcher tous les employés vivant à Paris et ayant un salaire supérieur à 2500.

mysql> SELECT * FROM employes WHERE ville ='Paris' AND salaire>2500;
+----+---------+----------+-----+---------+--------------+-------+
| id | Nom     | Prenom   | age | salaire | Poste        | Ville |
+----+---------+----------+-----+---------+--------------+-------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur    | Paris |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur  | Paris |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur      | Paris |
+----+---------+----------+-----+---------+--------------+-------+
3 rows in set (0.00 sec)

Lister les employés qui sont développeurs et âgés de plus de 30 ans.

mysql> SELECT * FROM employes WHERE Poste='Développeur' AND age>30;
+----+---------+---------+-----+---------+--------------+-------+
| id | Nom     | Prenom  | age | salaire | Poste        | Ville |
+----+---------+---------+-----+---------+--------------+-------+
|  4 | Bernard | Claire  |  31 |    2900 | Développeur  | Paris |
|  7 | Leroy   | Antoine |  33 |    3100 | Développeur  | Lille |
+----+---------+---------+-----+---------+--------------+-------+
2 rows in set (0.00 sec)

Trouver les employés dont le salaire est compris entre 2500 et 3500 et qui vivent à Lyon.

mysql> SELECT * FROM employes WHERE salaire BETWEEN 2500 AND 3500 AND Ville = 'Lyon';
+----+--------+--------+-----+---------+----------------+-------+
| id | Nom    | Prenom | age | salaire | Poste          | Ville |
+----+--------+--------+-----+---------+----------------+-------+
|  2 | Martin | Sophie |  28 |    3200 | chef de projet | Lyon  |
+----+--------+--------+-----+---------+----------------+-------+
1 row in set (0.00 sec)

Aﬃcher les employés qui ont plus de 40 ans ou sont chefs de projet.

mysql> SELECT * FROM employes WHERE age > 40 OR Poste ='chef de projet';
+----+--------+----------+-----+---------+----------------+-----------+
| id | Nom    | Prenom   | age | salaire | Poste          | Ville     |
+----+--------+----------+-----+---------+----------------+-----------+
|  2 | Martin | Sophie   |  28 |    3200 | chef de projet | Lyon      |
|  3 | Durand | Paul     |  45 |    2700 | Analyste       | Marseille |
|  8 | Moreau | Isabelle |  50 |    4000 | testeur        | Paris     |
| 10 | Roux   | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
+----+--------+----------+-----+---------+----------------+-----------+
4 rows in set (0.00 sec)

Lister les employés ayant un salaire inférieur à 3000 et qui travaillent à Marseille.

mysql> SELECT * FROM employes WHERE salaire < 3000 AND ville ='Marseille';
+----+--------+--------+-----+---------+----------+-----------+
| id | Nom    | Prenom | age | salaire | Poste    | Ville     |
+----+--------+--------+-----+---------+----------+-----------+
|  3 | Durand | Paul   |  45 |    2700 | Analyste | Marseille |
+----+--------+--------+-----+---------+----------+-----------+
1 row in set (0.00 sec)

Aﬃcher tous les employés qui ont un âge compris entre 30 et 45 ans et qui ne vivent pas à Nice.

mysql> SELECT * FROM employes WHERE age BETWEEN 30 AND 45 AND ville !='Nice';
+----+---------+---------+-----+---------+--------------+-----------+
| id | Nom     | Prenom  | age | salaire | Poste        | Ville     |
+----+---------+---------+-----+---------+--------------+-----------+
|  1 | KASSIMI | Zak     |  31 |    9500 | directeur    | Paris     |
|  3 | Durand  | Paul    |  45 |    2700 | Analyste     | Marseille |
|  4 | Bernard | Claire  |  31 |    2900 | Développeur  | Paris     |
|  7 | Leroy   | Antoine |  33 |    3100 | Développeur  | Lille     |
+----+---------+---------+-----+---------+--------------+-----------+
4 rows in set (0.00 sec)

Trouver les employés qui ont le poste de 'Développeur' et gagnent plus de 2000, mais moins de 3000.

 SELECT * FROM employes WHERE Poste ='Développeur' AND salaire >2000 AND salaire <3000;
+----+---------+--------+-----+---------+--------------+-------+
| id | Nom     | Prenom | age | salaire | Poste        | Ville |
+----+---------+--------+-----+---------+--------------+-------+
|  4 | Bernard | Claire |  31 |    2900 | Développeur  | Paris |
|  6 | Garcia  | Marie  |  27 |    2400 | Développeur  | Lyon  |
+----+---------+--------+-----+---------+--------------+-------+
2 rows in set (0.00 sec)

Aﬃcher les employés qui vivent à Paris ou à Nice et qui sont âgés de 35 ans ou plus.

mysql> SELECT * FROM employes WHERE (ville='Paris' OR ville ='Nice') AND age >=35;
+----+--------+----------+-----+---------+----------------+-------+
| id | Nom    | Prenom   | age | salaire | Poste          | Ville |
+----+--------+----------+-----+---------+----------------+-------+
|  5 | Petit  | Lucas    |  40 |    3600 | Manager        | Nice  |
|  8 | Moreau | Isabelle |  50 |    4000 | testeur        | Paris |
| 10 | Roux   | Nicolas  |  41 |    3500 | Chef de projet | Nice  |
+----+--------+----------+-----+---------+----------------+-------+
3 rows in set (0.00 sec)

Aﬃcher les employés qui ont plus de 30 ans et un salaire supérieur à 2500, ou ceux qui sont chefs de projet.

SELECT * FROM employes WHERE (age > 30 AND salaire > 2500) OR Poste = 'Chef de projet';
+----+---------+----------+-----+---------+----------------+-----------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville     |
+----+---------+----------+-----+---------+----------------+-----------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris     |
|  2 | Martin  | Sophie   |  28 |    3200 | chef de projet | Lyon      |
|  3 | Durand  | Paul     |  45 |    2700 | Analyste       | Marseille |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris     |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice      |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille     |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris     |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice      |
+----+---------+----------+-----+---------+----------------+-----------+

Trouver les employés qui ont un salaire inférieur à 2400 et qui ne sont pas développeurs.

mysql> SELECT * FROM employes WHERE salaire < 2400 AND Poste !='Développeur';
+----+-------+--------+-----+---------+--------+-------+
| id | Nom   | Prenom | age | salaire | Poste  | Ville |
+----+-------+--------+-----+---------+--------+-------+
|  9 | Simon | Julie  |  29 |    2300 | Tester | Lyon  |
+----+-------+--------+-----+---------+--------+-------+
1 row in set (0.00 sec)

Aﬃcher les employés qui vivent à Lyon et qui sont âgés de moins de 30 ans, ou qui sont directeurs.

SELECT * FROM employes WHERE (Ville = 'Lyon' AND age < 30) OR Poste = 'directeur';
+----+---------+--------+-----+---------+----------------+-------+
| id | Nom     | Prenom | age | salaire | Poste          | Ville |
+----+---------+--------+-----+---------+----------------+-------+
|  1 | KASSIMI | Zak    |  31 |    9500 | directeur      | Paris |
|  2 | Martin  | Sophie |  28 |    3200 | chef de projet | Lyon  |
|  6 | Garcia  | Marie  |  27 |    2400 | Développeur    | Lyon  |
|  9 | Simon   | Julie  |  29 |    2300 | Tester         | Lyon  |
+----+---------+--------+-----+---------+----------------+-------+
4 rows in set (0.00 sec)

Lister les employés dont le salaire est compris entre 3000 et 4000 et qui vivent à Paris.

mysql> SELECT * FROM employes WHERE salaire BETWEEN 3000 AND 4000 AND Ville = 'Paris';
+----+--------+----------+-----+---------+---------+-------+
| id | Nom    | Prenom   | age | salaire | Poste   | Ville |
+----+--------+----------+-----+---------+---------+-------+
|  8 | Moreau | Isabelle |  50 |    4000 | testeur | Paris |
+----+--------+----------+-----+---------+---------+-------+
1 row in set (0.00 sec)

mysql> SELECT * FROM employes WHERE salaire > 2700 AND age >= 30 AND Ville != 'Lyon';
+----+---------+----------+-----+---------+----------------+-------+
| id | Nom     | Prenom   | age | salaire | Poste          | Ville |
+----+---------+----------+-----+---------+----------------+-------+
|  1 | KASSIMI | Zak      |  31 |    9500 | directeur      | Paris |
|  4 | Bernard | Claire   |  31 |    2900 | Développeur    | Paris |
|  5 | Petit   | Lucas    |  40 |    3600 | Manager        | Nice  |
|  7 | Leroy   | Antoine  |  33 |    3100 | Développeur    | Lille |
|  8 | Moreau  | Isabelle |  50 |    4000 | testeur        | Paris |
| 10 | Roux    | Nicolas  |  41 |    3500 | Chef de projet | Nice  |
+----+---------+----------+-----+---------+----------------+-------+
6 rows in set (0.00 sec) -->
<!-- 

--1.Afficher tous les produits dont le prix est supérieur à 500.


mysql> SELECT * FROM produit where prix >500;
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                 | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
|  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 11 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
| 13 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
| 14 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
| 19 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
8 rows in set (0.00 sec)

mysql>



--2.Compter le nombre de produits ayant une quantité inférieure à 20.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Quantite < 20;
+-----------------+
| nombre_produits |
+-----------------+
|               6 |
+-----------------+
1 row in set (0.00 sec)

--3.Afficher les produits avec un rating supérieur à 4.0 et qui sont actifs.

mysql> SELECT * FROM produit WHERE Rating > 4.0 AND Actif = 1;
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                 | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
|  5 | Ecran               | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
|  6 | Chaise de Bureau    | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.             |       12 |    4.1 |     1 |     1 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.              |       24 |    4.6 |     1 |     0 |
|  8 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.                |       12 |    4.4 |     1 |     0 |
|  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 11 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
| 13 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
| 14 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
| 15 | Ecran               | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
| 16 | Chaise de Bureau    | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.             |       12 |    4.1 |     1 |     1 |
| 17 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.              |       24 |    4.6 |     1 |     0 |
| 18 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.                |       12 |    4.4 |     1 |     0 |
| 19 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
16 rows in set (0.00 sec)



--4.Trouver le prix minimum des produits en promotion.

ysql> SELECT MIN(prix) as val FROM produit where promo = 1;
+------+
| val  |
+------+
|  100 |
+------+

--5.Afficher le prix moyen des produits dont la garantie est de 24 mois.


mysql> SELECT AVG(Prix) AS prix_moyen FROM produit WHERE Garantie = 24;
+------------+
| prix_moyen |
+------------+
|      612.5 |
+------------+
1 row in set (0.00 sec)

--6.Compter le nombre de produits dont le fournisseur est 'Fournisseur A'.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Fournisseur = 'Fournisseur A';
+-----------------+
| nombre_produits |
+-----------------+
|               8 |
+-----------------+
1 row in set (0.00 sec)


--7.Afficher les 5 produits les plus chers.

mysql> SELECT * FROM produit ORDER BY Prix DESC LIMIT 5;
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                 | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 19 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
| 11 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+

--8.Trouver le prix maximum des produits qui sont actifs.

mysql> SELECT MAX(Prix) AS prix_max_actifs FROM produit WHERE Actif=1;
+-----------------+
| prix_max_actifs |
+-----------------+
|            2000 |
+-----------------+
1 row in set (0.00 sec)

--9.Afficher le nombre total de produits ayant un rating inférieur à 4.5.

ysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Rating < 4.5;
+-----------------+
| nombre_produits |
+-----------------+
|              12 |
+-----------------+
1 row in set (0.00 sec)

--10.Afficher la somme des prix des produits qui ont une quantité supérieure à 10 et qui sont en promotion.

SELECT SUM(Prix) AS somme_prix FROM produit WHERE Quantite > 10 AND Promo = 1;
ysql> SELECT SUM(Prix) AS somme_prix FROM produit WHERE Quantite > 10 AND Promo = 1;
+------------+
| somme_prix |
+------------+
|       2100 |
+------------+
1 row in set (0.00 sec)

--11.Afficher tous les produits dont la quantité est supérieure à 25.
ysql> SELECT * FROM produit WHERE Quantite > 25;
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
| id | Nom                 | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                   | Garantie | Rating | Actif | Promo |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.           |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.        |       24 |    4.2 |     1 |     1 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.            |       24 |    4.6 |     1 |     0 |
|  8 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.              |       12 |    4.4 |     1 |     0 |
| 11 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
| 13 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.           |       18 |    4.7 |     1 |     0 |
| 14 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.        |       24 |    4.2 |     1 |     1 |
| 17 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.            |       24 |    4.6 |     1 |     0 |
| 18 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.              |       12 |    4.4 |     1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
10 rows in set (0.00 sec)

--12.Compter le nombre de produits dont le prix est inférieur à 100.

ysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Prix < 100;
+-----------------+
| nombre_produits |
+-----------------+
|               4 |
+-----------------+


--13.Afficher le produit avec le prix le plus bas.
ysql> SELECT * FROM produit ORDER BY Prix ASC LIMIT 1;
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
| id | Nom    | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description      | Garantie | Rating | Actif | Promo |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
|  8 | Souris | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil. |       12 |    4.4 |     1 |     0 |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
1 row in set (0.00 sec)

mysql>

--14.Trouver le montant total des produits actifs.
ysql> SELECT SUM(Prix * Quantite) AS montant_total_actifs FROM produit WHERE actif = 1;
+----------------------+
| montant_total_actifs |
+----------------------+
|               277500 |
+----------------------+
1 row in set (0.00 sec)

--15.Compter le nombre de produits dont la description contient plus de 50 caractères.

ysql> SELECT COUNT(*) as nombre_produits FROM produit WHERE LENGTH(Description) >50;
+-----------------+
| nombre_produits |
+-----------------+
|               0 |
+-----------------+
1 row in set (0.00 sec)

--16.Afficher le prix moyen des produits de la catégorie 'Informatique'.
SELECT AVG(Prix) AS prix_moyen_informatique FROM produit WHERE Categorie = 'Informatique';
-------------------------+
| prix_moyen_informatique |
+-------------------------+
|       617.8571428571429 |
+-------------------------+

--17.Trouver le nombre de produits dont la garantie est supérieure à 12 mois.
SELECT COUNT(*) AS nombre_produits FROM produit WHERE Garantie > 12;
ysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Garantie > 12;
+-----------------+
| nombre_produits |
+-----------------+
|              14 |
+-----------------+

--18.Afficher le montant total des produits en promotion.

ysql> SELECT SUM(Prix * Quantite) AS montant_total_promo FROM produit WHERE Promo = 1;
+---------------------+
| montant_total_promo |
+---------------------+
|               79000 |
+---------------------+

--19.Compter le nombre de produits ayant un rating supérieur à 4.5.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Rating > 4.5;
+-----------------+
| nombre_produits |
+-----------------+
|               6 |
+-----------------+

--20.Afficher les 10 produits les plus récents ajoutés à la base de données.
mysql> SELECT*FROM produit ORDER BY Date_ajout DESC LIMIT 10;
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| 10 | Bureau             | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif.          |       24 |      4 |     1 |     1 |
| 20 | Bureau             | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif.          |       24 |      4 |     1 |     1 |
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 19 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
|  8 | Souris             | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.                |       12 |    4.4 |     1 |     0 |
| 18 | Souris             | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.                |       12 |    4.4 |     1 |     0 |
|  7 | Clavier            | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.              |       24 |    4.6 |     1 |     0 |
| 17 | Clavier            | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.              |       24 |    4.6 |     1 |     0 |
|  6 | Chaise de Bureau   | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.             |       12 |    4.1 |     1 |     1 |
| 16 | Chaise de Bureau   | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.             |       12 |    4.1 |     1 |     1 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+


--21.Trouver le prix maximum des produits de la catégorie 'Mobilier'.
mysql> SELECT MAX(Prix) AS prix_max_mobilier FROM produit WHERE Categorie ='Mobilier';
+-------------------+
| prix_max_mobilier |
+-------------------+
|               800 |
+-------------------+


--22.Afficher le montant total des produits ayant une quantité entre 10 et 50.
mysql> SELECT SUM(Prix*Quantite) AS montant_total FROM produit WHERE Quantite BETWEEN 10 AND 50;
+---------------+
| montant_total |
+---------------+
|        256000 |
+---------------+

--23.Compter le nombre de produits dont le fournisseur est 'Fournisseur C'.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Fournisseur = 'Fournisseur C';
+-----------------+
| nombre_produits |
+-----------------+
|               4 |
+-----------------+

--24.Afficher le prix moyen des produits ayant un rating inférieur à 4.0.

mysql> SELECT AVG(PRIX) AS prix_moyen FROM produit WHERE Rating < 4.0;
+------------+
| prix_moyen |
+------------+
|       NULL |
+------------+

--25.Trouver le prix minimum des produits qui ne sont pas actifs.
mysql> SELECT MIN(Prix) AS prix_min_inactifs FROM produit WHERE Actif = 0;
+-------------------+
| prix_min_inactifs |
+-------------------+
|              NULL |
+-------------------+

--26.Afficher les produits ayant une garantie de 36 mois ou plus.


mysql> SELECT * FROM produit WHERE Garantie >= 36;
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  5 | Ecran              | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 15 | Ecran              | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
| 19 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+

--27.Compter le nombre total de produits ajoutés avant le 1er janvier 2024.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Date_ajout < '2024-01-01';
+-----------------+
| nombre_produits |
+-----------------+
|               0 |
+-----------------+

--28.Afficher la somme des prix des produits avec un rating supérieur à 4.2.

mysql> SELECT SUM(Prix) AS somme_prix FROM produit WHERE Rating > 4.2;
+------------+
| somme_prix |
+------------+
|       8350 |
+------------+

--29.Trouver le produit le moins cher qui est actif.

mysql> SELECT * FROM produit WHERE Actif = 1 ORDER BY Prix ASC LIMIT 1;
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
| id | Nom    | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description      | Garantie | Rating | Actif | Promo |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
|  8 | Souris | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil. |       12 |    4.4 |     1 |     0 |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+

--30.Afficher les 5 produits avec la quantité la plus élevée.

mysql> SELECT * FROM produit ORDER BY Quantite DESC LIMIT 5;
+----+----------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
| id | Nom      | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description         | Garantie | Rating | Actif | Promo |
+----+----------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
|  8 | Souris   | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.    |       12 |    4.4 |     1 |     0 |
| 18 | Souris   | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.    |       12 |    4.4 |     1 |     0 |
|  7 | Clavier  | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.  |       24 |    4.6 |     1 |     0 |
| 17 | Clavier  | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.  |       24 |    4.6 |     1 |     0 |
|  3 | Tablette | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces. |       18 |    4.7 |     1 |     0 |
+----+----------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
--31.Compter le nombre de produits en promotion ayant un prix supérieur à 100.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Promo = 1 AND Prix > 100;
+-----------------+
| nombre_produits |
+-----------------+
|               6 |
+-----------------+

--32.Afficher le prix moyen des produits ajoutés après le 1er juillet 2024.
mysql> SELECT AVG (Prix) AS prix_moyen FROM produit WHERE Date_ajout >'2024-07-01';
+------------+
| prix_moyen |
+------------+
|     618.75 |
+------------+


--33.Trouver le montant total des produits dont le prix est compris entre 100 et 300.

mysql> SELECT SUM(Prix*Quantite) AS montant_total FROM produit WHERE Prix Between 100 AND 300;
+---------------+
| montant_total |
+---------------+
|         20000 |
+---------------+


--34.Afficher le nombre de produits dont la description contient le mot 'puissant'.


mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Description LIKE '%puissant%';
+-----------------+
| nombre_produits |
+-----------------+
|               2 |
+-----------------+

mysql> SELECT * FROM produit WHERE Description LIKE '%puissant%';
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
| id | Nom                 | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                   | Garantie | Rating | Actif | Promo |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
| 11 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+


--35.Compter le nombre de produits avec un rating inférieur à 3.5.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Rating < 3.5;
+-----------------+
| nombre_produits |
+-----------------+
|               0 |
+-----------------+

--36.Afficher le prix maximum des produits dont le fournisseur est 'Fournisseur B'.

mysql> SELECT MAX(Prix) AS prix_max FROM produit WHERE Fournisseur = 'Fournisseur B';
+----------+
| prix_max |
+----------+
|      300 |
+----------+


mysql> SELECT * FROM produit WHERE Prix = (SELECT MAX(Prix) FROM produit WHERE Fournisseur = 'Fournisseur B') AND Fournisseur = 'Fournisseur B';
+----+-------+--------------+------+----------+---------------+------------+----------------------+----------+--------+-------+-------+
| id | Nom   | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description          | Garantie | Rating | Actif | Promo |
+----+-------+--------------+------+----------+---------------+------------+----------------------+----------+--------+-------+-------+
|  5 | Ecran | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces. |       36 |    4.3 |     1 |     0 |
| 15 | Ecran | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces. |       36 |    4.3 |     1 |     0 |
+----+-------+--------------+------+----------+---------------+------------+----------------------+----------+--------+-------+-------+

--37.Trouver la somme des quantités de tous les produits.

mysql> SELECT SUM(Quantite) AS somme_quantites FROM produit;
+-----------------+
| somme_quantites |
+-----------------+
|             890 |
+-----------------+

--38.Afficher le prix moyen des produits ayant une garantie de 24 mois.

mysql> SELECT AVG(Prix) AS prix_moyen FROM produit WHERE Garantie = 24;
+------------+
| prix_moyen |
+------------+
|      612.5 |
+------------+
1 row in set (0.00 sec)

mysql> SELECT * FROM produit WHERE Garantie = 24;
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
| id | Nom                 | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                   | Garantie | Rating | Actif | Promo |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.        |       24 |    4.2 |     1 |     1 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.            |       24 |    4.6 |     1 |     0 |
| 10 | Bureau              | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif.        |       24 |      4 |     1 |     1 |
| 11 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
| 14 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.        |       24 |    4.2 |     1 |     1 |
| 17 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.            |       24 |    4.6 |     1 |     0 |
| 20 | Bureau              | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif.        |       24 |      4 |     1 |     1 |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+

--39.Compter le nombre de produits dont le nom commence par la lettre 'T'.

SELECT COUNT(*) AS nombre_produits FROM produit WHERE Nom LIKE 'T%';

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Nom LIKE 'T%';
+-----------------+
| nombre_produits |
+-----------------+
|               4 |
+-----------------+

--40.Afficher les 3 produits les moins chers en promotion.

mysql> SELECT * FROM produit WHERE promo =1 ORDER BY Prix ASC LIMIT 3;
+----+------------------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
| id | Nom              | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description         | Garantie | Rating | Actif | Promo |
+----+------------------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
|  6 | Chaise de Bureau | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique. |       12 |    4.1 |     1 |     1 |
| 16 | Chaise de Bureau | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique. |       12 |    4.1 |     1 |     1 |
|  2 | Imprimante       | Informatique |  150 |       20 | Fournisseur B | 2024-02-10 | Imprimante couleur. |       12 |      4 |     1 |     1 |
+----+------------------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
--41.Afficher les produits ayant un prix supérieur à 800 et une quantité inférieure à 20, et qui sont actifs.

mysql> SELECT * FROM produit WHERE Prix > 800 AND Quantite < 20 AND Actif = 1;
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 19 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+


--42.Compter le nombre de produits qui sont en promotion, ont un rating inférieur à 4.0, et une garantie de 12 mois.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Promo = 1 AND Rating < 4.0 AND Garantie = 12;
+-----------------+
| nombre_produits |
+-----------------+
|               0 |
+-----------------+

--43.Afficher les produits dont le prix est compris entre 100 et 600, qui sont actifs, et dont le fournisseur est 'Fournisseur A'.

mysql> SELECT * FROM produit WHERE Prix BETWEEN 100 AND 600 AND Actif = 1 AND Fournisseur = 'Fournisseur A';
+----+----------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
| id | Nom      | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description         | Garantie | Rating | Actif | Promo |
+----+----------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
|  3 | Tablette | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces. |       18 |    4.7 |     1 |     0 |
| 13 | Tablette | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces. |       18 |    4.7 |     1 |     0 |
+----+----------+--------------+------+----------+---------------+------------+---------------------+----------+--------+-------+-------+
2 rows in set (0.00 sec)

--44.Trouver le prix maximum des produits qui sont en promotion, de la catégorie 'Informatique', et ajoutés après le 1er janvier 2024.

mysql> SELECT MAX(Prix) AS prix_max FROM produit WHERE Promo = 1 AND Categorie = 'Informatique' AND Date_ajout > '2024-01-01';
+----------+
| prix_max |
+----------+
|      150 |
+----------+

--45.Afficher le prix moyen des produits qui ont une quantité supérieure à 10, un rating supérieur à 4.5, et une garantie de 36 mois.

mysql> SELECT AVG(Prix) AS prix_moyen FROM produit WHERE Quantite > 10 AND Rating > 4.5 AND Garantie = 36;
+------------+
| prix_moyen |
+------------+
|       NULL |
+------------+

--46.Compter le nombre de produits dont le nom contient "Téléphone", le prix est supérieur à 400, et qui sont actifs.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Nom LIKE '%Téléphone%' AND Prix > 400 AND Actif = 1;
+-----------------+
| nombre_produits |
+-----------------+
|               2 |
+-----------------+

--47.Afficher les produits dont la quantité est inférieure à 15, le prix est supérieur à 100, et qui ne sont pas en promotion.

mysql> SELECT * FROM produit WHERE Quantite < 15 AND PRIX > 100 AND Promo = 0;
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | Nom                | Categorie    | Prix | Quantite | Fournisseur   | Date_ajout | Description                     | Garantie | Rating | Actif | Promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 19 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+

--48.Trouver le montant total des produits ayant un rating supérieur à 4.0, qui sont en promotion et ajoutés après le 1er mars 2024.

mysql> SELECT SUM(Prix * Quantite) AS montant_total FROM produit WHERE Rating > 4.0 AND Promo = 1 AND Date_ajout > '2024-03-01';
+---------------+
| montant_total |
+---------------+
|         69000 |
+---------------+

--49.Afficher les produits qui ne sont pas actifs, dont le prix est inférieur à 200, et la garantie est de 12 mois.

mysql> SELECT * FROM produit WHERE Actif = 0 AND Prix < 200 AND Garantie = 12;
Empty set (0.00 sec)

--50.Compter le nombre de produits dont le fournisseur est 'Fournisseur D', qui ont un rating inférieur à 4.5, et qui sont ajoutés après le 1er mai 2024.

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Fournisseur = 'Fournisseur D' AND Rating < 4.5 AND Date_ajout > '2024-05-01';
+-----------------+
| nombre_produits |
+-----------------+
|               4 |
+-----------------+ -->





<!--  Deuxième salve d'exo  -->
  <!-- 1. -1.Afficher tous les produits dont le prix est supérieur à 500. -->
  select * from produit where prix > 500;
  +----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
  | id | nom                 | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
  +----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
  |  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
  |  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
  |  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
  |  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
  +----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
  

<!-- 2.--2.Compter le nombre de produits ayant une quantité inférieure à 20.  -->
select count(*) as meh from produit where quantite < 20;
+-----+
| meh |
+-----+
|   3 |
+-----+

<!-- 3. --3.Afficher les produits avec un rating supérieur à 4.0 et qui sont actifs. -->
select * from produit where rating > 4.0 and actif = 1;
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | nom                 | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
|  5 | Ecran               | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
|  6 | Chaise de Bureau    | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.             |       12 |    4.1 |     1 |     1 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.              |       24 |    4.6 |     1 |     0 |
|  8 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.                |       12 |    4.4 |     1 |     0 |
|  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |
   1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+

<!-- 4. --4.Trouver le prix minimum des produits en promotion. -->
select MIN(prix) as min_produitPromo from produit where promo;
+------------------+
| min_produitPromo |
+------------------+
|              100 |

<!-- 5. --5.Afficher le prix moyen des produits dont la garantie est de 24 mois. -->
mysql> SELECT AVG(Prix) AS prix_moyen FROM produit WHERE Garantie = 24;
+------------+
| prix_moyen |
+------------+
|      612.5 |
+------------+
<!-- 6. Compter le nombre de produits dont le fournisseur est 'Fournisseur A'. -->
 select count(prix) as meh from produit where fournisseur = "Fournisseur A";
+-----+
| meh |
+-----+
|   4 |

mysql> SELECT COUNT(*) AS nombre_produits FROM produit WHERE Fournisseur = 'Fournisseur A';



<!-- 7. Afficher les 5 produits les plus chers. -->
select * from produit order by prix desc LIMIT 5;
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | nom                 | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
| 10 | Bureau              | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif.          |       24 |      4 |     1 |     1 |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------
<!-- 8. --8.Trouver le prix maximum des produits qui sont actifs. -->
select MAX(prix) as max_actif from produit where actif;
+-----------+
| max_actif |
+-----------+
|      2000 |
+-----------+
<!-- 9. --9.Afficher le nombre total de produits ayant un rating inférieur à 4.5. -->
select COUNT(*) as somme_produit_rating from produit where rating < 4.5;
+----------------------+
| somme_produit_rating |
+----------------------+
|                    6 |
+----------------------+
<!-- --10.Afficher la somme des prix des produits qui ont une quantité supérieure à 10 et qui sont en promotion. -->
select SUM(prix) as somme_promo_supStock10 from produit where quantite > 10 and promo;
+------------------------+
| somme_promo_supStock10 |
+------------------------+
|                   1050 |
+------------------------+
<!-- 11. --11.Afficher tous les produits dont la quantité est supérieure à 25. -->
select * from produit where quantite > 25;
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
| id | nom                 | categorie    | prix | quantite | fournisseur   | date_ajout | description                   | garantie | rating | actif | promo |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.           |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.        |       24 |    4.2 |     1 |     1 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.            |       24 |    4.6 |     1 |     0 |
|  8 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.              |       12 |    4.4 |     1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
<!-- 12. --12.Compter le nombre de produits dont le prix est inférieur à 100. -->
select COUNT(*) as inf_100 from produit where prix < 100;
+---------+
| inf_100 |
+---------+
|       2 |
+---------+

<!-- --13.Afficher le produit avec le prix le plus bas. --> 
select * from produit order by prix asc LIMIT 1;
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
| id | nom    | categorie    | prix | quantite | fournisseur   | date_ajout | description      | garantie | rating | actif | promo |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
|  8 | Souris | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil. |       12 |    4.4 |     1 |     0 |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+

<!-- 14. Trouver le montant total des produits actifs. -->
select SUM(prix) as total_produitActif from produit where actif;
+--------------------+
| total_produitActif |
+--------------------+
|               5625 |
+--------------------+
<!-- --15.Compter le nombre de produits dont la description contient plus de 50 caractères. -->
select COUNT(*) as meh from produit where length(description) > 50;
+-----+
| meh |
+-----+
|   0 |
+-----+
<!-- 16. --16.Afficher le prix moyen des produits de la catégorie 'Informatique'. -->
select AVG(prix) as meeeh from produit where categorie = 'informatique';
+-------------------+
| meeeh             |
+-------------------+
| 617.8571428571429 |
+-------------------+
<!-- 17. --17.Trouver le nombre de produits dont la garantie est supérieure à 12 mois. -->
select COUNT(*) as meh from produit where garantie > 12;
+-----+
| meh |
+-----+
|   7 |
+-----+
<!-- 18. Afficher le montant total des produits en promotion. -->
select SUM(prix) as meh from produit where promo;
+------+
| meh  |
+------+
| 1450 |
<!--  --19.Compter le nombre de produits ayant un rating supérieur à 4.5. -->
select COUNT(*) as meh from produit where rating > 4.5;
+-----+
| meh |
+-----+
|   3 |
<!-- 20. Afficher les 10 produits les plus récents ajoutés à la base de données.  -->
 select * from produit order by date_ajout LIMIT 10;
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | nom                 | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant.   |       24 |    4.5 |     1 |     0 |
|  2 | Imprimante          | Informatique |  150 |       20 | Fournisseur B | 2024-02-10 | Imprimante couleur.             |       12 |      4 |     1 |     1 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.             |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
|  5 | Ecran               | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
|  6 | Chaise de Bureau    | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.             |       12 |    4.1 |     1 |     1 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.              |       24 |    4.6 |     1 |     0 |
|  8 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.                |       12 |    4.4 |     1 |     0 |
|  9 | Station de Travail  | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
| 10 | Bureau              | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif.          |       24 |      4 |     1 |     1 |
+----+---------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
<!-- -21.Trouver le prix maximum des produits de la catégorie 'Mobilier'. -->

MariaDB [exercice3]> select max(prix) as meh from produit where categorie = "Mobilier";
+------+
| meh  |
+------+
|  800 |
+------+
<!-- --22.Afficher le montant total des produits ayant une quantité entre 10 et 50. -->
select SUM(prix) as meh from produit where quantite between 10 and 50;
+------+
| meh  |
+------+
| 5150 |
+------+

SELECT SUM(Prix*Quantite) AS montant_total FROM produit WHERE Quantite BETWEEN 10 AND 50;

128000

<!--  --23.Compter le nombre de produits dont le fournisseur est 'Fournisseur C'. -->
select * from produit where fournisseur = "fournisseur C";
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | nom                | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  4 | Telephone          | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.          |       24 |    4.2 |     1 |     1 |
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
<!--  --24.Afficher le prix moyen des produits ayant un rating inférieur à 4.0. -->
select AVG(prix) as meh from produit where rating < 4.0;
+------+
| meh  |
+------+
| NULL |
+------+
<!-- --25.Trouver le prix minimum des produits qui ne sont pas actifs.  --> 
select MIN(prix) as meh from produit where actif = 0;
+------+
| meh  |
+------+
| NULL |
+------+
<!--  --26.Afficher les produits ayant une garantie de 36 mois ou plus.  -->
select * from produit where garantie >=36;
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | nom                | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  5 | Ecran              | Informatique |  300 |       15 | Fournisseur B | 2024-05-20 | Ecran LED 24 pouces.            |       36 |    4.3 |     1 |     0 |
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
<!-- --27.Compter le nombre total de produits ajoutés avant le 1er janvier 2024.  -->
select count(*) as meh from produit where date_ajout < "2024-01-01";
+-----+
| meh |
+-----+
|   0 |
+-----+
<!--  --28.Afficher la somme des prix des produits avec un rating supérieur à 4.2. -->
select SUM(prix) as meh from produit where rating > 4.2;
+------+
| meh  |
+------+
| 4175 |
+------+
<!--  --29.Trouver le produit le moins cher qui est actif. -->
select * from produit where actif order by prix limit 1;
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
| id | nom    | categorie    | prix | quantite | fournisseur   | date_ajout | description      | garantie | rating | actif | promo |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
|  8 | Souris | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil. |       12 |    4.4 |     1 |     0 |
+----+--------+--------------+------+----------+---------------+------------+------------------+----------+--------+-------+-------+
1 row in set (0.001 sec)

<!-- --30.Afficher les 5 produits avec la quantité la plus élevée.  -->
select * from produit order by quantite DESC limit 5;
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
| id | nom                 | categorie    | prix | quantite | fournisseur   | date_ajout | description                   | garantie | rating | actif | promo |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+
|  8 | Souris              | Informatique |   25 |      150 | Fournisseur A | 2024-08-15 | Souris sans fil.              |       12 |    4.4 |     1 |     0 |
|  7 | Clavier             | Informatique |   50 |      100 | Fournisseur A | 2024-07-10 | Clavier mecanique.            |       24 |    4.6 |     1 |     0 |
|  3 | Tablette            | Informatique |  600 |       50 | Fournisseur A | 2024-03-05 | Tablette 10 pouces.           |       18 |    4.7 |     1 |     0 |
|  4 | Telephone           | Mobilier     |  800 |       40 | Fournisseur C | 2024-04-12 | Telephone dernier cri.        |       24 |    4.2 |     1 |     1 |
|  1 | Ordinateur Portable | Informatique | 1200 |       30 | Fournisseur A | 2024-01-15 | Ordinateur portable puissant. |       24 |    4.5 |     1 |     0 |
+----+---------------------+--------------+------+----------+---------------+------------+-------------------------------+----------+--------+-------+-------+

<!--  31. --Compter le nombre de produits en promotion ayant un prix supérieur à 100.  -->
select count(*) as meh from produit where promo = 1 and prix > 100;
+-----+
| meh |
+-----+
|   3 |
+-----+
<!-- --32.Afficher le prix moyen des produits ajoutés après le 1er juillet 2024.  -->
select AVG(prix) as meh from produit where date_ajout > "2024-07-01";
+--------+
| meh    |
+--------+
| 618.75 |
+--------+

<!--  --33.Trouver le montant total des produits dont le prix est compris entre 100 et 300.  -->
select SUM(prix) as meh from produit where prix between 100 and 300;
+------+
| meh  |
+------+
|  550 |
+------+

<!-- --34.Afficher le nombre de produits dont la description contient le mot 'puissant'. -->
select count(*) as meh from produit where description like "%puissant%";
+-----+
| meh |
+-----+
|   1 |
+-----+

<!-- --35.Compter le nombre de produits avec un rating inférieur à 3.5.  -->
select count(*) as meh from produit where rating < 3.5;
+-----+
| meh |
+-----+
|   0 |
+-----+
<!-- --36.Afficher le prix maximum des produits dont le fournisseur est 'Fournisseur B'. --> 
select MAX(prix) as meh from produit where fournisseur = "Fournisseur B";
+------+
| meh  |
+------+
|  300 |
+------+
<!--  --37.Trouver la somme des quantités de tous les produits. -->
select SUM(quantite) as meh from produit;
+------+
| meh  |
+------+
|  445 |
+------+
<!--  --38.Afficher le prix moyen des produits ayant une garantie de 24 mois.  -->
select AVG(prix) as meh from produit where garantie = 24;
+-------+
| meh   |
+-------+
| 612.5 |
+-------+
<!--  --39.Compter le nombre de produits dont le nom commence par la lettre 'T'.  -->
select count(*) as meh from produit where nom like "T%";
+-----+
| meh |
+-----+
|   2 |
+-----+
<!-- --40.Afficher les 3 produits les moins chers en promotion.  -->
select * from produit where promo = 1 order by prix limit 3;
+----+------------------+--------------+------+----------+---------------+------------+------------------------+----------+--------+-------+-------+
| id | nom              | categorie    | prix | quantite | fournisseur   | date_ajout | description            | garantie | rating | actif | promo |
+----+------------------+--------------+------+----------+---------------+------------+------------------------+----------+--------+-------+-------+
|  6 | Chaise de Bureau | Mobilier     |  100 |       25 | Fournisseur D | 2024-06-30 | Chaise ergonomique.    |       12 |    4.1 |     1 |     1 |
|  2 | Imprimante       | Informatique |  150 |       20 | Fournisseur B | 2024-02-10 | Imprimante couleur.    |       12 |      4 |     1 |     1 |
| 10 | Bureau           | Mobilier     |  400 |        5 | Fournisseur D | 2024-09-15 | Bureau en bois massif. |       24 |      4 |     1 |     1 |
+----+------------------+--------------+------+----------+---------------+------------+------------------------+----------+--------+-------+-------+
<!-- --41.Afficher les produits ayant un prix supérieur à 800 et une quantité inférieure à 20, et qui sont actifs.  -->
select * from produit where prix > 800 and quantite < 20 and actif;
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
| id | nom                | categorie    | prix | quantite | fournisseur   | date_ajout | description                     | garantie | rating | actif | promo |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
|  9 | Station de Travail | Informatique | 2000 |       10 | Fournisseur C | 2024-09-01 | Station de travail performante. |       36 |    4.8 |     1 |     0 |
+----+--------------------+--------------+------+----------+---------------+------------+---------------------------------+----------+--------+-------+-------+
<!-- --42.Compter le nombre de produits qui sont en promotion, ont un rating inférieur à 4.0, et une garantie de 12 mois.  -->
select count(*) as meh from produit where promo = 1 and rating < 4.0 and garantie = 12;
+-----+
| meh |
+-----+
|   0 |
+-----+
<!-- --43.Afficher les produits dont le prix est compris entre 100 et 600, qui sont actifs, et dont le fournisseur est 'Fournisseur A'. -->
select count(*) as meh from produit where (prix between 100 and 600) and actif and fournisseur = "Fournisseur A";
+-----+
| meh |
+-----+
|   1 |
+-----+

SELECT * FROM produit WHERE Prix BETWEEN 100 AND 600 AND Actif = 1 AND Fournisseur = 'Fournisseur A';

<!-- --44.Trouver le prix maximum des produits qui sont en promotion, de la catégorie 'Informatique', et ajoutés après le 1er janvier 2024.  -->
select MAX(prix) as meh from produit where promo = 1 and categorie = "Informatique" and date_ajout > "2024-01-01";
+------+
| meh  |
+------+
|  150 |
+------+
<!-- --45.Afficher le prix moyen des produits qui ont une quantité supérieure à 10, un rating supérieur à 4.5, et une garantie de 36 mois. -->
select AVG(prix) as meh from produit where quantite > 10 and rating > 4.5 and garantie = 36;
+------+
| meh  |
+------+
| NULL |
+------+
<!-- --46.Compter le nombre de produits dont le nom contient "Téléphone", le prix est supérieur à 400, et qui sont actifs.  -->
select count(*) as meh from produit where nom like "%telephone%" and prix > 400 and actif;
+-----+
| meh |
+-----+
|   1 |
+-----+
<!-- --47.Afficher les produits dont la quantité est inférieure à 15, le prix est supérieur à 100, et qui ne sont pas en promotion.  -->
select count(*) as meh from produit where quantite < 15 and prix > 100 and promo = 0;
+-----+
| meh |
+-----+
|   1 |
+------+
SELECT * FROM produit WHERE Quantite < 15 AND PRIX > 100 AND Promo = 0;

<!-- --48.Trouver le montant total des produits ayant un rating supérieur à 4.0, qui sont en promotion et ajoutés après le 1er mars 2024.  -->
select SUM(prix) as meh from produit where rating > 4.0 and promo = 1 and date_ajout > "2024-03-01";
+------+
| meh  |
+------+
|  900 |
+------+

SELECT SUM(Prix * Quantite) AS montant_total FROM produit WHERE Rating > 4.0 AND Promo = 1 AND Date_ajout > '2024-03-01';

<!-- --49.Afficher les produits qui ne sont pas actifs, dont le prix est inférieur à 200, et la garantie est de 12 mois. -->
select count(*) as meh from produit where actif = 0 and prix < 200 and garantie = 12;
+-----+
| meh |
+-----+
|   0 |
+-----+
<!-- --50.Compter le nombre de produits dont le fournisseur est 'Fournisseur D', qui ont un rating inférieur à 4.5, et qui sont ajoutés après le 1er mai 2024. -->
 
MariaDB [exercice3]> select count(*) as meh from produit where fournisseur = "Fournisseur D" and rating < 4.5 and date_ajout > "2024-05-01";
+-----+
| meh |
+-----+
|   2 |
+-----+


<!-- XAMP mysql -->

<!-- 1) Afficher les clients. -->

SELECT * FROM client;

<!-- 2) Afficher les comptes des clients de Paris. -->

SELECT * FROM compte WHERE Client_id in(SELECT id FROM client WHERE ville = 'Paris';

<!-- Avec une jointure: -->

SELECT * FROM compte WHERE client.id = compte.Client_id AND ville = 'Paris';

<!-- 3) Afficher le Rib, le solde et le nom des clients de Paris. -->

SELECT nom, rib, Solde from client, compte WHERE client.id = compte.Client_id AND ville = 'paris';

<!-- 4) Afficher les clients qui ont un compte en découverte. -->

SELECT * FROM client, compte WHERE client.id = compte.Client_id AND Solde < 0

<!-- 5) Afficher les cartes de clients mineurs. -->

SELECT carte.* FROM compte, carte, client WHERE client.id = compte.Client_id AND compte.id = carte.Compte_id AND age < 18;

<!-- 6) Afficher les clients qui ont des cartes GOLD  -->

SELECT client.* FROM client,compte,carte WHERE client.id = compte.Client_id AND compte.id = carte.Compte_id AND Type_C="GOLD";

<!-- 6-Afficher les cartes CLEO dont l'année d'expiration est <2025 -->

SELECT carte.* FROM carte WHERE carte.Type_C = 'CLEO' AND carte.an_ex < 2025;

SELECT * FROM carte WHERE Type_C = "CLEO" AND an_ex < '2025-01-01';

<!-- 7-Afficher les clients de qui ont des soldes en découverte et une carte GOLD -->

SELECT client.*  FROM client, compte, carte  WHERE client.id = compte.Client_id  AND compte.id = carte.Compte_id  AND compte.solde < 0  AND carte.Type_C = 'GOLD';


<!-- 8-Afficher le RIB des Comptes dont le solde est >20000 -->

SELECT compte.RIB FROM compte WHERE compte.solde > 20000;


<!-- 9-Afficher les comptes des clients de paris avec des cartes GOLD -->

SELECT client.* FROM carte, client, compte WHERE carte.Compte_id = client.id AND client.ville = 'Paris' AND carte.Type_C = 'GOLD' AND compte.Client_id = client.id;

SELECT compte.* FROM client,compte,carte WHERE client.id=compte.Client_id AND compte.id=carte.Compte_id AND ville="PARIS" AND Type_C="Gold";

<!-- 10-Afficher le nom,RIB des clients majeur -->

SELECT client.Nom,compte.Rib FROM client,compte WHERE client.id = compte.Client_id AND client.age >= 18;

<!-- 11-Afficher le nombre de clients mineurs -->

SELECT COUNT(*)  FROM client  WHERE Age > 18;

SELECT COUNT(*) FROM client WHERE age < 18; 

<!-- 12-Afficher les clients qui n'ont pas de compte -->

SELECT *  FROM client WHERE id NOT IN (SELECT Client_id FROM compte);

<!-- 13-Afficher les comptes qui n'ont pas de carte -->

SELECT * FROM compte WHERE id NOT IN (SELECT compte.id FROM carte);

<!-- 14-Afficher la liste des cartes. -->

SELECT * FROM `carte` WHERE 1;

<!-- 15- Afficher le nombre de cartes. -->

SELECT COUNT(*) FROM carte;

<!-- 16- Afficher le nombre de clients qui n'ont pas de compte -->

SELECT * FROM client WHERE id NOT IN (SELECT Client_id FROM compte);

<!-- 17- Afficher le nombre de clients qui ont un solde entre 1,000 et 10,000 euros. -->

SELECT COUNT(*)  FROM compte  WHERE solde BETWEEN 1000 AND 10000;

<!-- 18- Afficher la somme des soldes du client dont l'ld est 2. -->

SELECT SUM(solde)  FROM compte  WHERE Client_id = 2;

<!-- 19- Afficher les cartes du client dont l'Id est 2. -->

SELECT carte.* From carte WHERE carte.Compte_id IN (SELECT id FROM compte WHERE Client_id=2);

SELECT (carte.*) FROM client, compte, carte WHERE client.id = compte.Client_id AND compte.id = carte.Compte_id AND client.id = 2;

SELECT carte.* FROM compte, carte WHERE compte.id=carte.Compte_id AND compte.Client_id = 2;

<!-- 20- Afficher la somme des soldes des clients qui habitent à Paris ou Bordeaux dont l'âge
est supérieur à 30 ans. -->

SELECT SUM(SOLDE) FROM compte WHERE Client_id IN ( SELECT id FROM client WHERE (ville = 'Paris' OR ville = 'Bordeaux') AND Age > 30 );


SELECT SUM(solde) FROM compte, client
WHERE client.id = compte.client_id
AND age > 30
AND (ville = "Paris" OR ville = "Bordeaux");

-- version alternative avec IN

SELECT SUM(solde) FROM compte, client
WHERE client.id = compte.client_id
AND age > 30
AND ville IN ("Paris", "Bordeaux");


<!-- 21- Afficher les cartes des clients qui habitent à Paris. -->

SELECT * FROM carte WHERE Compte_id IN (SELECT id FROM compte WHERE Client_id IN (SELECT id FROM client WHERE ville = 'Paris'));

SELECT carte.* 
FROM client, carte, compte 
WHERE client.id = compte.Client_id AND compte.id = carte.Compte_id 
AND client.Ville = 'Paris';

<!-- 22- Afficher les clients mineurs qui ont un compte avec un solde supérieur à 1,000 euros et
une carte cleo -->

SELECT * FROM client WHERE Age < 18 AND id IN ( SELECT Client_id FROM compte WHERE SOLDE <= 1000 AND id IN ( SELECT Compte_id FROM carte WHERE Type_C = 'Cleo' ) );

SELECT client.* FROM client, compte, carte WHERE client.id = compte.Client_id AND compte.id = carte.Compte_id AND Age < 18 AND Solde > 1000 AND Type_C = "Cleo";

<!-- 23- Afficher la somme des soldes des comptes qui possèdent une carte expirée avant 2025 -->

SELECT SUM(SOLDE) FROM compte WHERE id IN ( SELECT Compte_id FROM carte WHERE an_ex < '2025-01-01' );

SELECT SUM(Solde)FROM compte, carte 
WHERE compte.id=carte.Compte_id
AND an_ex< "2025-01-01";

<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher le Nombre de comptes par client -->

SELECT Client_id, COUNT(*) AS Nombre_de_comptes FROM compte GROUP BY Client_id;
SELECT Client_id,COUNT(*)FROM compte GROUP BY Client_id;


<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher  la Somme des soldes par client -->

SELECT Client_id, SUM(SOLDE) AS somme_compte FROM compte GROUP BY Client_id;

SELECT Client_id,SUM(Solde) FROM compte GROUP BY Client_id;

<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher  le Nombre de cartes par compte -->

SELECT Compte_id, COUNT(*) AS nombre_cartes FROM carte GROUP BY Compte_id;
SELECT COUNT(*),compte_id FROM carte GROUP BY compte_id;

<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher les clients ayant plus d'un compte -->

SELECT Client_id, COUNT(*) AS nbr FROM compte GROUP BY Client_id HAVING nbr >= 2;
SELECT Client_id, COUNT(*) AS nbr_compte FROM compte GROUP BY Client_id HAVING nbr_compte > 2;


<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher les clients dont le solde total dépasse 50 000 -->

SELECT Client_id, SUM(SOLDE) AS solde_total FROM compte GROUP BY Client_id HAVING solde_total > 50000;

SELECT client_id,sum(solde) as solde_total FROM compte GROUP BY client_id having solde_total>50000

<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher les villes où le nombre de clients est supérieur à 2 -->


SELECT Ville, COUNT(*) AS nombre_clients FROM client GROUP BY Ville HAVING nombre_clients > 2;


<!-- Requêtes avec GROUP BY et HAVING -->
<!-- Afficher  le Nombre de clients par tranche d'âge (mineurs vs majeurs) -->

select age, COUNT(*) as ageCount from client group by age;
select age from client where age >= 18;
select age from client where age < 18


select CASE when age< 18 then "mineur" else "majeur" end as trancheAge, COUNT(*) as ageCount from client group by trancheAge;

 
<!-- Requêtes avec ORDER BY -->
<!-- Afficher les clients triés par âge décroissant -->
SELECT * FROM client ORDER BY age DESC;


<!-- Afficher les comptes triés par solde croissant -->

SELECT * FROM compte ORDER BY solde ASC;


<!-- Afficher les cartes triées par date d'expiration (les plus anciennes en premier) -->

SELECT * FROM carte ORDER BY an_ex ASC;

<!-- Afficher les clients triés par ville puis par âge décroissant -->

SELECT * FROM client ORDER BY ville DESC;

SELECT * FROM client ORDER BY Age DESC;

<!-- Afficher les 5 comptes ayant le solde le plus élevé -->

SELECT * FROM compte ORDER BY solde ASC LIMIT 5;

<!-- Afficher les 10 premiers clients ayant le plus de comptes -->
SELECT Client_id, COUNT(*) AS nombre_de_comptes FROM compte GROUP BY Client_id ORDER BY nombre_de_comptes DESC LIMIT 10;


<!-- INNER JOIN -->

<!-- -- -Afficher les compte des clients de paris  -->
SELECT compte.* FROM compte INNER JOIN client ON client.id=compte.Client_id WHERE ville="paris"

<!-- -- Afficher le RIB, Solde et le nom des clients de paris  -->
SELECT rib,solde,nom FROM client INNER JOIN compte ON client.id=compte.Client_id WHERE ville="paris"

<!-- -- Afficher les clients qui ont un compte en découvert -->
SELECT client.* FROM client INNER JOIN compte ON client.id=compte.Client_id WHERE solde < 0;

<!-- -- Afficher les cartes des clients mineurs -->

SELECT carte.* FROM carte 
INNER JOIN compte ON compte.id=carte.Compte_id
INNER JOIN client ON client.id=compte.Client_id
WHERE age < 18 ;

<!-- -- Afficher les clients qui ont des cartes GOLD -->

SELECT client.* FROM client 
JOIN compte ON client.id=compte.Client_id
JOIN carte ON compte.id=carte.Compte_id
WHERE Type_C="GOLD";

<!-- -- 12-Afficher les clients qui n'ont pas de compte -->

SELECT client.* FROM client LEFT JOIN compte ON client.id=compte.Client_id
WHERE compte.id IS NULL

<!-- -- 16- Afficher le nombre de clients qui n'ont pas de compte -->
SELECT COUNT(*) FROM client LEFT JOIN compte ON client.id=compte.Client_id
WHERE compte.Client_id IS NULL

<!-- Afficher les client qui possede un compte mais pas une carte  -->


SELECT client.* FROM client 
INNER JOIN compte ON client.id=compte.client_id
LEFT JOIN carte ON compte.id=carte.compte_id
WHERE carte.id IS NULL


<!-- Affiche les client qui ne possède pas de carte -->

SELECT client.* 
FROM client 
LEFT JOIN compte ON client.id = compte.Client_id 
LEFT JOIN carte ON compte.id = carte.Compte_id 
WHERE carte.id IS NULL;


SELECT client.* FROM client LEFT JOIN compte ON client.id = compte.Client_id 
LEFT JOIN carte ON compte.id = carte.Compte_id 
WHERE carte.Compte_id IS NULL


Les consignes:
<!-- -- 1) Afficher tous les livres et leurs auteurs (titre, nom) -->

SELECT livre.titre, auteur.nom 
FROM livre 
INNER JOIN auteur ON livre.Auteur_id = auteur.id;


select titre, nom from livre inner join auteur on auteur.id = livre.auteur_id;

<!-- -- 2) Afficher tous les auteurs, même ceux sans livre (nom, titre) -->

SELECT auteur.nom, livre.titre
FROM auteur
LEFT JOIN livre ON auteur.id = livre.Auteur_id;

select nom, titre from auteur left join livre on livre.author_id=auteur.id

<!-- -- 3) Afficher tous les livres, même ceux jamais empruntés (titre, emprunteur, date d'emprunt) -->

SELECT livre.titre, emprunt.emprunter, emprunt.date_emprunt
FROM livre
LEFT JOIN emprunt ON livre.id = emprunt.Livre_id;

SELECT livre.titre,emprunt.emprunteur,emprunt.date_emprunt from livre LEFT JOIN emprunt ON livre.id=emprunt.livre_id

<!-- -- 4) Afficher les livres empruntés et par qui (titre, emprunteur, date) -->

SELECT livre.titre, emprunt.emprunter, emprunt.date_emprunt
FROM livre
INNER JOIN emprunt ON livre.id = emprunt.Livre_id;

<!-- -- 6) Afficher les livres de genre "Fantaisie" et leurs auteurs (titre, nom) -->

SELECT livre.titre, auteur.nom 
FROM livre 
INNER JOIN auteur ON livre.Auteur_id = auteur.id
WHERE livre.genre = 'Fantaisie';

<!-- -- 7) Afficher les auteurs qui n'ont jamais été empruntés (nom) -->


SELECT auteur.nom
FROM auteur
LEFT JOIN livre ON auteur.id = livre.Auteur_id
LEFT JOIN emprunt ON livre.id = emprunt.Livre_id
WHERE emprunt.id IS NULL;


<!-- -- 8) Afficher les livresqui n'ont jamais été empruntés (titre) -->


SELECT livre.titre
FROM livre
LEFT JOIN emprunt ON livre.id = emprunt.Livre_id
WHERE emprunt.id IS NULL;


<!-- -- 9) Afficher les emprunteurs et les livres qu'ils ont empruntés (emprunteur, titre) -->

SELECT emprunt.emprunter, livre.titre
FROM emprunt
INNER JOIN livre ON emprunt.Livre_id = livre.id;


<!-- -- 10) Afficher les livres empruntés avec le nom de leur auteur (titre, nom, emprunteur) -->

SELECT livre.titre, auteur.nom, emprunt.emprunter
FROM livre
INNER JOIN auteur ON livre.Auteur_id = auteur.id
INNER JOIN emprunt ON livre.id = emprunt.Livre_id;

